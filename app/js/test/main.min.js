var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype;e.prototype=new r},hk26;(function(e){var t=$(window),n=location.hash.length>4,r=!!document.createElement("canvas").getContext,i=[{id:"img1_off",src:"img/index/cont_02_img1_off.png"},{id:"img1_on",src:"img/index/cont_02_img1_on.png"},{id:"img2_off",src:"img/index/cont_02_img2_off.png"},{id:"img2_on",src:"img/index/cont_02_img2_on.png"},{id:"img3_off",src:"img/index/cont_02_img3_off.png"},{id:"img3_on",src:"img/index/cont_02_img3_on.png"},{id:"img4_off",src:"img/index/cont_02_img4_off.png"},{id:"img4_on",src:"img/index/cont_02_img4_on.png"},{id:"img5_off",src:"img/index/cont_02_img5_off.png"},{id:"img5_on",src:"img/index/cont_02_img5_on.png"}],s=[{id:"img1_off",src:"img/index/cont_04_img1_off.png"},{id:"img1_on",src:"img/index/cont_04_txt1_on.png"},{id:"img2_off",src:"img/index/cont_04_img2_off.png"},{id:"img2_on",src:"img/index/cont_04_txt2_on.png"},{id:"img3_off",src:"img/index/cont_04_img3_off.png"},{id:"img3_on",src:"img/index/cont_04_txt3_on.png"},{id:"img4_off",src:"img/index/cont_04_img4_off.png"},{id:"img4_on",src:"img/index/cont_04_txt4_on.png"},{id:"img5_off",src:"img/index/cont_04_img5_off.png"},{id:"img5_on",src:"img/index/cont_04_txt5_on.png"}],o=function(){function e(){this._MAX=11;this._points=[];this._resetCount=20;this._count=0}e.factory=function(t){return t==e.COLOR?new u:t==e.IMAGE?new a:null};e.prototype.setup=function(e,t,n,r){};e.prototype._init=function(){this._initCanvas();this._initData()};e.prototype._initCanvas=function(){this.canvas=document.createElement("canvas");this.canvas.setAttribute("width",this._size.toString());this.canvas.setAttribute("height",this._size.toString());this._context=this.canvas.getContext("2d")};e.prototype.purupuru=function(e){this._purupuru=e||!1;if(this._purupuru){this._count=0;this._reset()}};e.prototype.pause=function(e){this._pause=e||!1};e.prototype.update=function(e){if(this._pause)return;if(this._purupuru&&++this._count%this._resetCount==0){this._count=0;this._reset()}this._move();this._draw()};e.prototype._initData=function(){var e=this._radius*.93,t=Math.PI*2/this._MAX;for(var n=0;n<this._MAX;n++){var r=Math.cos(t*n)*e,i=Math.sin(t*n)*e;this._points.push({x:r,y:i,px:r,py:i,tox:r,toy:i,rx:Math.random()*Math.PI,ry:Math.random()*Math.PI,ax:Math.random()<.5?1:-1,ay:Math.random()<.5?1:-1,spx:Math.random()*.2+.1,spy:Math.random()*.2+.1,vx:0,vy:0,rw:5,rh:5})}};e.prototype._reset=function(){for(var e=0,t=this._MAX;e<t;e++){var n=this._points[e],r=Math.random()*Math.PI*2,i=Math.random()*Math.PI*2;n.tox=n.px+Math.cos(r)*n.rw;n.toy=n.py+Math.sin(i)*n.rh;n.vx=0;n.vy=0}};e.prototype._move=function(){var e=this._purupuru?this._moveSpring:this._moveSmooth;for(var t=0,n=this._MAX;t<n;t++)e(this._points[t])};e.prototype._moveSmooth=function(e){e.rx+=e.spx*e.ax;e.ry+=e.spy*e.ay;var t=e.px+Math.cos(e.rx)*3,n=e.py+Math.sin(e.ry)*3;e.x+=(t-e.x)*.3;e.y+=(n-e.y)*.3};e.prototype._moveSpring=function(e){var t=e.tox-e.x,n=e.toy-e.y,r=t*.99,i=n*.99;e.vx+=r;e.vy+=i;e.vx*=.8;e.vy*=.8;e.x+=e.vx;e.y+=e.vy};e.prototype._draw=function(){};e.prototype.sync=function(e){this._points=e;this._draw()};e.COLOR=0;e.IMAGE=1;return e}(),u=function(e){function t(){e.apply(this,arguments)}__extends(t,e);t.prototype.setup=function(e,t,n,r){this._color=e;this._size=t;this._radius=t/2;this._strokeWidth=n||10;this._init()};t.prototype._draw=function(){var e=this._radius,t=this._radius,n=this._points,r=this._context,i=(n[0].x+e+n[this._MAX-1].x+e)*.5,s=(n[0].y+t+n[this._MAX-1].y+t)*.5;r.clearRect(0,0,this._size,this._size);r.beginPath();r.moveTo(i,s);for(var o=0,u=this._MAX-1;o<u;o++){var a=(n[o].x+e+n[o+1].x+e)*.5,f=(n[o].y+t+n[o+1].y+t)*.5;r.quadraticCurveTo(n[o].x+e,n[o].y+t,a,f)}r.quadraticCurveTo(n[o].x+e,n[o].y+t,i,s);r.closePath();r.fillStyle=this._color;r.strokeStyle="#FFF";r.lineWidth=this._strokeWidth;r.stroke();r.fill()};return t}(o),a=function(e){function t(){e.apply(this,arguments)}__extends(t,e);t.prototype.setup=function(e,t,n,r){this._size=t;this._radius=t/2;this._img=new Image;this._img.src=e;this._stroke=n||-1;this._strokeColor=r||"#FFF";this._init()};t.prototype._draw=function(){this._context.clearRect(0,0,this._size,this._size);this._context.save();this._drawPath();this._context.clip();this._context.drawImage(this._img,0,0,this._size,this._size);this._context.restore();if(this._stroke!=-1){this._drawPath();this._context.strokeStyle=this._strokeColor;this._context.lineWidth=this._stroke;this._context.stroke()}};t.prototype._drawPath=function(){var e=this._radius,t=this._radius,n=this._points,r=this._context,i=(n[0].x+e+n[this._MAX-1].x+e)*.5,s=(n[0].y+t+n[this._MAX-1].y+t)*.5;r.beginPath();r.moveTo(i,s);for(var o=0,u=this._MAX-1;o<u;o++){var a=(n[o].x+e+n[o+1].x+e)*.5,f=(n[o].y+t+n[o+1].y+t)*.5;r.quadraticCurveTo(n[o].x+e,n[o].y+t,a,f)}r.quadraticCurveTo(n[o].x+e,n[o].y+t,i,s);r.closePath()};return t}(o),f=function(e){function t(){e.apply(this,arguments)}__extends(t,e);return t}(a),l=function(e){function t(){e.call(this);this._navSize=150;this._colors=["#5FBC90","#E26470","#38A7E8","#FF8BA4","#E0DB48"];if(r){this._initView();util.Ticker.instanceById("main").add(this)}else this._noCanvasInitView()}__extends(t,e);t.prototype._initView=function(){this.$view=$(".kv .nav");this._puru=[];for(var e=0;e<5;e++){var t=this.$view.find(".n"+e),n=o.factory(o.COLOR);n.setup(this._colors[e],this._navSize);t.find(".bg").empty().append(n.canvas);this._puru.push(n);n.update(0);this._setClickEvent(t.find(".txt"),e)}};t.prototype._noCanvasInitView=function(){this.$view=$(".kv .nav");this._puru=[];var e=[0,25,40,25,0];for(var t=0;t<5;t++)this.$view.find(".n"+t).y(e[t])};t.prototype._setClickEvent=function(e,t){var n=this,r=e.find("img");e.on({mouseover:function(){n._puru[t].purupuru(!0);n._pause(t);r.stop(!0).y(10).delay(0).animate({top:0},600,"easeOutElastic")},mouseout:function(){n._puru[t].purupuru(!1);n._pause();r.stop(!0).y(0)}})};t.prototype._pause=function(e){if(e!=undefined)for(var t=0;t<this._puru.length;t++)e!=t&&this._puru[t].pause(!0);else for(var t=0;t<this._puru.length;t++)this._puru[t].pause(!1)};t.prototype.exec=function(){var e=this;(new util.Serial).auto(function(){r?e.$view.find("li").each(function(e,t){$(t).block().alpha(0).css("top","+=50").delay(e*50).animate({top:"-=50",opacity:1},300,"easeOutBack")}):e.$view.find("li").each(function(e,t){$(t).block().alpha(1).css("top","+=50").delay(e*50).animate({top:"-=50"},300,"easeOutBack")})}).wait(400).done(this,this.__done).exec();return this};t.prototype.update=function(e){for(var t=0;t<5;t++)this._puru[t].update(e)};return t}(util.View),c=function(e){function t(){e.call(this);this._initView()}__extends(t,e);t.prototype._initView=function(){var e=this;this._words=[];this._points=[];$(".kv .title li img").each(function(t,n){if(t<4){e._words.push($(n).css({position:"absolute",top:0,left:0,transformOrigin:"50% 50%"}));e._points.push({px:0,py:0,r:Math.random()*Math.PI});return!0}return!1});this.$view=$(".kv .inner");this._$items=this.$view.find(".item li").css({transformOrigin:"50% 50%"})};t.prototype.exec=function(){util.Ticker.instanceById("main").add(this);n?this._withoutAnimation():this._withAnimation();return this};t.prototype._withoutAnimation=function(){$(".kv div.lead, .kv div.title, .kv div.copy, .kv div.item li").block();this.__done(this)};t.prototype._withAnimation=function(){(new util.Serial).queue(this,this._animation1).wait(500).queue(this,this._animation2).queue(this,this._animation3).wait(900).done(this,this.__done).exec()};t.prototype._animation1=function(e){var t=this._$items.x(376).z(0).alpha(0).block().eq(2);t.z(1).transition({y:-200,x:50,opacity:0,rotate:30,scale:1.4},0).transition({y:0,x:0,rotate:10,opacity:1},500,"easeOutBack").promise().done(function(){var n=10,r=6,i=setInterval(function(){var s=376+(n*=-1),o=n*-3;r--;if(r>0)t.stop(!0).animate({left:s,top:o},140,"easeOutSine");else{clearInterval(i);t.stop(!0).animate({left:376,top:0},140,"easeOutCubic");e()}},120)})};t.prototype._animation2=function(e){var t=this,n=this._$items.eq(2);n.transition({rotate:-10,scale:2.2},250,"easeOutSine").transition({rotate:0,scale:1},200,"easeOutBack");setTimeout(function(){var n=200,r="easeOutBack";t._$items.eq(0).animate({left:0,opacity:1},n+40,r);t._$items.eq(1).animate({left:188,opacity:1},n,r);t._$items.eq(3).animate({left:564,opacity:1},n,r);t._$items.eq(4).animate({left:752,opacity:1},n+40,r);e()},300)};t.prototype._animation3=function(e){var t=this,n=this.$view.find(".lead").y("-=200").block().alpha(0),r=this.$view.find(".title").y("-=100").block().alpha(0);n.find("img").eq(0).block();n.animate({top:"+=200",opacity:1},200,"easeOutBack");r.animate({top:"+=100",opacity:1},200,"easeOutBack");(new util.Serial).wait(200).auto(this,this._wordPuru2).auto(e).wait(350).auto(function(){t.$view.find(".copy").block().find("p").css({width:0,overflow:"hidden"}).each(function(e){var t=$(this),n=t.find("img").attr("width");t.delay(e*150).animate({width:n},600,"easeOutCubic")})}).exec()};t.prototype.update=function(e){var t=e&&e%40==0;if(!t||Math.random()<.7)return;this._wordPuru2()};t.prototype._wordPuru2=function(){var e=this,t=15,n=setInterval(function(){t--;for(var r=0,i=e._words.length;r<i;r++){var s=0,o=0,u=0,a=1;if(t!=0){u=(Math.random()-.5)*20|0;a=1+Math.random()*.2;s=(Math.random()-.5)*t;o=(Math.random()-.5)*t}e._words[r].xy(s*2,o*2).css({transform:"scale("+a+") rotate("+u+"deg)"})}t==0&&clearInterval(n)},30)};return t}(util.View),h=function(e){function t(){e.call(this);this._init()}__extends(t,e);t.prototype._init=function(){var e=this;this._index=0;this.$view=$(".kv .bg-pattern");this._bg=[];this.$view.find(">div").each(function(t,n){e._bg.push($(n))})};t.prototype.active=function(){util.Ticker.instanceById("visual").add(this);return this};t.prototype.update=function(e){var t=this._bg[this._index];this._index=++this._index%this._bg.length;var n=this._bg[this._index];n.prependTo(this.$view).h(820);t.animate({height:"0"},600,"easeOutExpo")};return t}(util.View),p=function(){function e(){this._init()}e.prototype._init=function(){var e=this;this._index=0;this._ribbons=[];$(".kv .lead img").each(function(t,n){e._ribbons.push($(n))});this._ribbons[0].block()};e.prototype.active=function(){util.Ticker.instanceById("visual").add(this).start(6e3)};e.prototype.update=function(e){this._updateRibbon()};e.prototype._updateRibbon=function(){var e=this._ribbons.shift(),t=this._ribbons[0];this._ribbons.push(e);e.none();t.block().css({transform:"scale(1.4)"}).transition({scale:1},500,"easeOutBack")};return e}(),d=function(){function e(){this.alpha=1}e.prototype.reset=function(e,t,n,r){this.alpha=.8;this.x=e;this.y=t;this.size=r;this.color=n;this._sp=r/15;return this};e.prototype.update=function(){var e=Math.random()<.5?1:-1,t=e*Math.random();this.alpha-=.02;this.x+=t;this.y-=this._sp;this.size*=1+Math.random()*.06-.03};return e}(),v=function(e){function n(n,i,s){var o=this;e.call(this);this._colors=["95, 188, 144","226, 100, 112","56, 167, 232","255, 139, 164","224, 219, 72"];if(!r){i.addClass("bg_particle");return}this._height=n;this._list=[];this._max=s;this.$view=$("<canvas/>").attr({width:t.width()-100,height:n});this.$view.css("margin-left",-(t.width()-100)/2);this.$view.prependTo(i);this._canvas=this.$view[0];this._context=this._canvas.getContext("2d");t.resize(function(){var e=t.width()-100;o.$view.attr("width",e).css("margin-left",-e/2)});util.Ticker.instanceById("main").add(this)}__extends(n,e);n.prototype.update=function(e){e%2==0&&this._list.length<this._max&&this._create();var t=Math.PI*2,n=this._context;n.clearRect(0,0,this._canvas.width,this._canvas.height);for(var r=this._list.length-1;r>=0;r--){var i=this._list[r];i.update();i.alpha<0&&this._reset(i);n.beginPath();n.fillStyle="rgba("+i.color+", "+i.alpha+")";n.arc(i.x,i.y,i.size/2,0,t);n.fill()}n.closePath()};n.prototype._reset=function(e){e.reset(Math.random()*(t.width()-200)+50,Math.random()*(this._height-80)+80,this._colors[0],Math.random()*20+10);this._colors.push(this._colors.shift())};n.prototype._create=function(){var e=new d;this._reset(e);this._list.push(e)};return n}(util.View),m=function(){function e(){this._colors=["#5FBC90","#38A7E8","#E26470","#FF8BA4","#E0DB48"];this._size=[200,200,150,150,150];this._current=-1;if(r){this._initView();util.Ticker.instanceById("main").add(this)}else this._noCanvasInitView()}e.prototype._noCanvasInitView=function(){this._puruImg=[];this._puruCol=[];var e=$(".cont_02");for(var t=0;t<5;t++){var n=e.find(".no"+(t+1)+" .img");n.empty().append(i[t*2].data)}e.find("li .item a").alpha(.02).each(function(t,n){var r=i[t*2].src,s=i[t*2+1].src,o=e.find(".no"+(t+1)+" .img img");$(n).on({mouseover:function(){$(this).alpha(1);o.attr("src",s)},mouseout:function(){$(this).alpha(.02);o.attr("src",r)}})})};e.prototype._initView=function(){var e=this;this._puruImg=[];this._puruCol=[];var t=$(".cont_02");for(var n=1;n<=5;n++){var r=n-1,i=o.factory(o.IMAGE),s=t.find(".no"+n+" .img");i.setup(s.find("img").remove().attr("src"),this._size[r],1);s.append(i.canvas);this._puruImg.push(i);var u=o.factory(o.COLOR);u.setup(this._colors[r],this._size[r],1);s.append($(u.canvas).alpha(0));this._puruCol.push(u)}this._$itemImg=t.find("li .item img").alpha(0);this._$itemImg.each(function(t,n){$(n).on({mouseover:function(){e._over(t)},mouseout:function(){e._over(-1)}})})};e.prototype._over=function(e){var t=this;if(e!=-1){$(this._puruCol[e].canvas).stop(!0).fadeTo(200,.9);this._$itemImg.eq(e).stop(!0).fadeTo(200,1);this._puruImg[e].purupuru(!0);for(var n=0;n<this._puruImg.length;n++)e!=n&&this._puruImg[n].pause(!0);this._current=e;this._puruCol[e].sync(this._puruImg[e]._points)}else{$(this._puruCol[this._current].canvas).stop(!0).fadeTo(200,0);this._$itemImg.eq(this._current).stop(!0).fadeTo(200,0);this._puruImg[this._current].purupuru(!1);for(var n=0;n<this._puruImg.length;n++)this._puruImg[n].pause(!1);var r=this._current;this._current=-1;setTimeout(function(){$(t._puruCol[r].canvas).alpha(0);t._$itemImg.eq(r).alpha(0)},210)}};e.prototype.update=function(e){for(var t=0;t<5;t++)this._puruImg[t].update(e);this._current>-1&&this._puruCol[this._current].sync(this._puruImg[this._current]._points)};return e}(),g=function(){function e(){if(r){this._initView();util.Ticker.instanceById("main").add(this)}else this._noCanvasInitView()}e.prototype._noCanvasInitView=function(){var e=$(".cont_04");for(var t=0;t<5;t++){var n=s[t*2].src,r=s[t*2+1].src;e.find(".no"+(t+1)+" .img img").attr("src",n);e.find(".no"+(t+1)+" .txt img").attr("src",r)}e.find("a").each(function(e,t){$(t).on({mouseover:function(){$(this).find("img").alpha(1)},mouseout:function(){$(this).find("img").alpha(0)}})}).find("img").alpha(0)};e.prototype._initView=function(){this._puruImg=[];this._puruTxt=[];var e=$(".cont_04");for(var t=0;t<5;t++){var n=o.factory(o.IMAGE),r=e.find(".no"+(t+1)+" .img");n.setup(r.find("img").remove().attr("src"),260,1);r.append(n.canvas);this._puruImg.push(n);var i=o.factory(o.IMAGE),s=e.find(".no"+(t+1)+" .txt a");i.setup(s.find("img").remove().attr("src"),260,1);s.append(i.canvas);this._puruTxt.push(i);this._setClickEvent($(i.canvas).alpha(0),t)}};e.prototype._setClickEvent=function(e,t){var n=this;e.on({mouseover:function(){e.stop(!0).fadeTo(300,1);n._puruImg[t].purupuru(!0);n._pause(t)},mouseout:function(){e.stop(!0).fadeTo(200,0);n._puruImg[t].purupuru(!1);n._pause()}})};e.prototype._pause=function(e){if(e!=undefined)for(var t=0;t<this._puruImg.length;t++)e!=t&&this._puruImg[t].pause(!0);else for(var t=0;t<this._puruImg.length;t++)this._puruImg[t].pause(!1)};e.prototype.update=function(e){for(var t=0;t<5;t++){this._puruImg[t].update(e);this._puruTxt[t].sync(this._puruImg[t]._points)}};return e}(),y=function(){function e(){var e=this;$(window).load(function(){$("#Loading").fadeOut(1e3,"easeOutExpo",function(){e._ready()})})}e.prototype._ready=function(){(new util.Serial).queue(function(e){r?e():(new util.AssetsQueue).queue("cont02",(new util.ImageAssets).setup(i)).queue("cont04",(new util.ImageAssets).setup(s)).exec().done(function(){e()})}).func(function(){new m;new g}).func(function(){new v(560,$(".cont_01"),18);new v(1e3,$(".cont_03"),24);new v(900,$(".cont_05"),20)}).queue(new c).func(function(){r&&util.Ticker.instanceById("main").start()}).queue(function(){return new l}()).done(function(){(new h).active();(new p).active();n?$(".contents").visible():$(".contents").visible().alpha(0).fadeTo(400,1)}).exec()};return e}();e.PCMain=y})(hk26||(hk26={}));new hk26.PCMain;